## Simple Standard OLS w/ Country Fixed Effects
model<-plm(spending.wb ~
lag(trade.wb, 1) +
lag(mdi, 1) +
lag(polity2, 1) +
lag(trade.wb, 1):lag(polity2, 1) +
lag(gdpcap.wb, 1) +
lag(dependency.wb, 1) +
lag(land.wb, 1) +
lag(spending.wb, 1),
data=mainvars,
index = c("scode","year"),
model="within",
effect="twoways")
summary(model)
coeftest(model, vcov=function(x) vcovBK(x, type="HC1", cluster="time"))   #looks good!
fixef(model)
plmtest(model, type=c("bp"))   # Breusch-Pagan Multiplier Test; reject null of no significant differences between panels
plmtest(model, c("time"), type=("bp")) # B-P L-M test for time effects; accept that we need time effects
pbgtest(model)                         #Breusch-Godfrey/Woolridge test for serial autocorrelation, failed
# Two-way Fixed Effects
model.twoway<-plm(spending.wb ~
lag(trade.wb, 1) +
lag(mdi, 1) +
lag(polity2, 1) +
lag(gdpcap.wb, 1) +
lag(dependency.wb, 1) +
lag(land.wb, 1) +
lag(spending.wb, 1) +
lag(spending.wb, 2) +
lag(trade.wb, 1):lag(mdi, 1),
index = c("scode","year"),
model="within",
effect="twoway",
data=mainvars)
summary(model.twoway)
coeftest(model.twoway, vcov=function(x) vcovBK(x, type="HC1", cluster="time"))  #looks good!
fixef(model.twoway)
plmtest(model.twoway, type=c("bp"))   # Breusch-Pagan Multiplier Test; reject null of no significant differences between panels
plmtest(model.twoway, c("time"), type=("bp")) # B-P L-M test for time effects; accept that we need time effects
pbgtest(model.twoway)                         #Breusch-Godfrey/Woolridge test for serial autocorrelation, failed
data<-plm.data(modelvars, index = c("scode", "year"))
require(tseries)
adf.test(modelvars$spending.wb, k=2)                 #passes, p=0 means it is stationary
# Testing for homoskedasticity of errors
bptest(spending.wb ~
lag(trade.wb, 1) +
lag(mdi, 1) +
lag(trade.wb, 1):lag(mdi, 1) +
lag(polity2, 1) +
lag(trade.wb, 1):lag(polity2, 1) +
lag(gdpcap.wb, 1) +
lag(dependency.wb, 1) +
lag(spending.wb, 1) +
lag(spending.wb, 2),
data=df,
studentize=F)                #BP test for homoscedasticity, p=0 means heteroskedastic
# Two-way Fixed Effects with Democracy Interaction
model.dem.twoway<-plm(spending.wb ~
lag(trade.wb, 1) +
lag(mdi, 1) +
lag(polity2, 1) +
lag(gdpcap.wb, 1) +
lag(dependency.wb, 1) +
lag(land.wb, 1) +
lag(spending.wb, 1) +
lag(spending.wb, 2) +
lag(trade.wb, 1):lag(mdi, 1) +
lag(trade.wb, 1):lag(polity2, 1),
data=mainvars,
index = c("scode","year"),
model="within",
effect="twoway")
summary(model.dem.twoway)
coeftest(model.dem.twoway, vcov=function(x) vcovBK(x, type="HC1", cluster="time"))  #looks good!
model.fd.twoway<-plm(diff(spending.wb) ~
lag(trade.wb) +
lag(diff(trade.wb), 1) +
lag(mdi) +
lag(diff(mdi), 1) +
lag(polity2, 1) +
lag(diff(polity2), 1) +
lag(diff(gdpcap.wb), 1) +
lag(diff(dependency.wb), 1) +
lag(spending.wb, 1) +
lag(diff(spending.wb), 1) +
lag(trade.wb):lag(mdi) +
lag(diff(trade.wb)):lag(diff(mdi)) +
lag(trade.wb):lag(polity2) +
lag(diff(trade.wb)):lag(diff(polity2)),
data=mainvars,
index = c("scode","year"),
model="within",
effect="twoway")
summary(model.fd.twoway)
coeftest(model.fd.twoway, vcov=function(x) vcovBK(x, type="HC1", cluster="time"))  #looks good
stargazer(model.twoway, model.dem.twoway, model.fd.twoway,
title="Determinants of Government Consumption Expenditure",
dep.var.labels.include=FALSE,
digits = 2,
style = "ajps",
font.size = "footnotesize",
out="article/main_state_models_standardized.tex")
?lag
?diff
## Simple Standard OLS
model<-plm(spending.wb ~
lag(trade.wb) +
lag(polity2) +
lag(trade.wb):lag(mdi) +
lag(trade.wb):lag(polity2) +
lag(gdpcap.wb) +
lag(dependency.wb) +
lag(land.wb) +
lag(spending.wb) +
lag(spending.wb, 2),
index = c("scode","year"),
model="pooling",
data=modelvars)
summary(model)
coeftest(model, vcov=function(x) vcovBK(x, type="HC1", cluster="time"))   #looks good!
fixef(model)
plmtest(model, type=c("bp"))   # Breusch-Pagan Multiplier Test; reject null of no significant differences between panels
pcdtest(model, test = c("lm"))
## Simple Standard OLS w/ Country Fixed Effects
model<-plm(spending.wb ~
lag(trade.wb) +
lag(mdi) +
lag(polity2) +
lag(trade.wb):lag(polity2) +
lag(gdpcap.wb) +
lag(dependency.wb) +
lag(land.wb) +
lag(spending.wb),
data=mainvars,
index = c("scode","year"),
model="within",
effect="twoways")
summary(model)
coeftest(model, vcov=function(x) vcovBK(x, type="HC1", cluster="time"))   #looks good!
fixef(model)
plmtest(model, type=c("bp"))   # Breusch-Pagan Multiplier Test; reject null of no significant differences between panels
plmtest(model, c("time"), type=("bp")) # B-P L-M test for time effects; accept that we need time effects
pbgtest(model)                         #Breusch-Godfrey/Woolridge test for serial autocorrelation, failed
# Two-way Fixed Effects
model.twoway<-plm(spending.wb ~
lag(trade.wb) +
lag(mdi) +
lag(polity2) +
lag(gdpcap.wb) +
lag(dependency.wb) +
lag(land.wb) +
lag(spending.wb) +
lag(spending.wb, 2) +
lag(trade.wb):lag(mdi),
index = c("scode","year"),
model="within",
effect="twoway",
data=mainvars)
summary(model.twoway)
coeftest(model.twoway, vcov=function(x) vcovBK(x, type="HC1", cluster="time"))  #looks good!
fixef(model.twoway)
plmtest(model.twoway, type=c("bp"))   # Breusch-Pagan Multiplier Test; reject null of no significant differences between panels
plmtest(model.twoway, c("time"), type=("bp")) # B-P L-M test for time effects; accept that we need time effects
pbgtest(model.twoway)                         #Breusch-Godfrey/Woolridge test for serial autocorrelation, failed
data<-plm.data(modelvars, index = c("scode", "year"))
require(tseries)
adf.test(modelvars$spending.wb, k=2)                 #passes, p=0 means it is stationary
# Testing for homoskedasticity of errors
bptest(spending.wb ~
lag(trade.wb) +
lag(mdi) +
lag(trade.wb):lag(mdi) +
lag(polity2) +
lag(trade.wb):lag(polity2) +
lag(gdpcap.wb) +
lag(dependency.wb) +
lag(spending.wb) +
lag(spending.wb, 2),
data=df,
studentize=F)                #BP test for homoscedasticity, p=0 means heteroskedastic
# Two-way Fixed Effects with Democracy Interaction
model.dem.twoway<-plm(spending.wb ~
lag(trade.wb) +
lag(mdi) +
lag(polity2) +
lag(gdpcap.wb) +
lag(dependency.wb) +
lag(land.wb) +
lag(spending.wb) +
lag(spending.wb, 2) +
lag(trade.wb):lag(mdi) +
lag(trade.wb):lag(polity2),
data=mainvars,
index = c("scode","year"),
model="within",
effect="twoway")
summary(model.dem.twoway)
coeftest(model.dem.twoway, vcov=function(x) vcovBK(x, type="HC1", cluster="time"))  #looks good!
model.fd.twoway<-plm(diff(spending.wb) ~
lag(trade.wb) +
lag(diff(trade.wb)) +
lag(mdi) +
lag(diff(mdi)) +
lag(polity2) +
lag(diff(polity2)) +
lag(diff(gdpcap.wb)) +
lag(diff(dependency.wb)) +
lag(spending.wb) +
lag(diff(spending.wb)) +
lag(trade.wb):lag(mdi) +
lag(diff(trade.wb)):lag(diff(mdi)) +
lag(trade.wb):lag(polity2) +
lag(diff(trade.wb)):lag(diff(polity2)),
data=mainvars,
index = c("scode","year"),
model="within",
effect="twoway")
summary(model.fd.twoway)
coeftest(model.fd.twoway, vcov=function(x) vcovBK(x, type="HC1", cluster="time"))  #looks good
stargazer(model.twoway, model.dem.twoway, model.fd.twoway,
title="Determinants of Government Consumption Expenditure",
dep.var.labels.include=FALSE,
digits = 2,
style = "ajps",
font.size = "footnotesize",
out="article/main_state_models_standardized.tex")
mainvars<-subset(df, select=c("scode", "year", "region", "spending.wb", "polity2", "trade.wb", "mdi", "gdpcap.wb", "dependency.wb", "land.wb"))
View(mainvars)
mainvars<-subset(df, select=c("scode", "year", "region", "spending.wb", "polity2", "trade.wb", "mdi", "gdpcap.wb", "dependency.wb", "land.wb"))
View(mainvars)
mainvars[,5:10]<-sapply(mainvars[,5:10], rescale)
View(mainvars)
dfextra<-subset(dfextra, select=c("scode", "year", "region", "spending.wb", "lefts", "netden", "pr", "unitarism", "polity2", "trade.wb", "mdi", "gdpcap.wb", "dependency.wb", "land.wb", "industry.wb"))
dfextra[,5:14]<-sapply(dfextra[,5:14], rescale)
modelvars<-mainvars[complete.cases(mainvars),]
vartable<-rbind(
rbind(WDIsearch(string="SP.POP.DPND", field="indicator", short=FALSE)),
rbind(WDIsearch(string="AG.LND.TOTL.K2", field="indicator", short=FALSE)),
rbind(WDIsearch(string="IT.PRT.NEWS.P3", field="indicator", short=FALSE)),
rbind(WDIsearch(string="IT.RAD.SETS.P3", field="indicator", short=FALSE)),
rbind(WDIsearch(string="NY.GDP.PCAP.CD", field="indicator", short=FALSE)),
rbind(WDIsearch(string="NE.CON.GOVT.ZS", field="indicator", short=FALSE)),
rbind(WDIsearch(string="IT.PRT.NEWS.P3", field="indicator", short=FALSE)),
rbind(WDIsearch(string="NV.IND.MANF.ZS", field="indicator", short=FALSE))
)
require(xtable)
#sink("state_vars.tex")
#xtable(vartable[,2:3])
#sink()
#sink("state_vars_summary.tex")
#tableContinuous(allvars[,sapply(allvars, is.numeric)], font.size=12)
#sink()
require(plm)
require(lmtest)
## Simple Standard OLS
model<-plm(spending.wb ~
lag(trade.wb) +
lag(polity2) +
lag(trade.wb):lag(mdi) +
lag(trade.wb):lag(polity2) +
lag(gdpcap.wb) +
lag(dependency.wb) +
lag(land.wb) +
lag(spending.wb) +
lag(spending.wb, 2),
index = c("scode","year"),
model="pooling",
data=modelvars)
summary(model)
coeftest(model, vcov=function(x) vcovBK(x, type="HC1", cluster="time"))   #looks good!
fixef(model)
plmtest(model, type=c("bp"))   # Breusch-Pagan Multiplier Test; reject null of no significant differences between panels
pcdtest(model, test = c("lm"))
## Simple Standard OLS w/ Country Fixed Effects
model<-plm(spending.wb ~
lag(trade.wb) +
lag(mdi) +
lag(polity2) +
lag(trade.wb):lag(polity2) +
lag(gdpcap.wb) +
lag(dependency.wb) +
lag(land.wb) +
lag(spending.wb),
data=mainvars,
index = c("scode","year"),
model="within",
effect="twoways")
summary(model)
coeftest(model, vcov=function(x) vcovBK(x, type="HC1", cluster="time"))   #looks good!
fixef(model)
plmtest(model, type=c("bp"))   # Breusch-Pagan Multiplier Test; reject null of no significant differences between panels
plmtest(model, c("time"), type=("bp")) # B-P L-M test for time effects; accept that we need time effects
pbgtest(model)                         #Breusch-Godfrey/Woolridge test for serial autocorrelation, failed
# Two-way Fixed Effects
model.twoway<-plm(spending.wb ~
lag(trade.wb) +
lag(mdi) +
lag(polity2) +
lag(gdpcap.wb) +
lag(dependency.wb) +
lag(land.wb) +
lag(spending.wb) +
lag(spending.wb, 2) +
lag(trade.wb):lag(mdi),
index = c("scode","year"),
model="within",
effect="twoway",
data=mainvars)
summary(model.twoway)
coeftest(model.twoway, vcov=function(x) vcovBK(x, type="HC1", cluster="time"))  #looks good!
fixef(model.twoway)
plmtest(model.twoway, type=c("bp"))   # Breusch-Pagan Multiplier Test; reject null of no significant differences between panels
plmtest(model.twoway, c("time"), type=("bp")) # B-P L-M test for time effects; accept that we need time effects
pbgtest(model.twoway)                         #Breusch-Godfrey/Woolridge test for serial autocorrelation, failed
data<-plm.data(modelvars, index = c("scode", "year"))
require(tseries)
adf.test(modelvars$spending.wb, k=2)                 #passes, p=0 means it is stationary
# Testing for homoskedasticity of errors
bptest(spending.wb ~
lag(trade.wb) +
lag(mdi) +
lag(trade.wb):lag(mdi) +
lag(polity2) +
lag(trade.wb):lag(polity2) +
lag(gdpcap.wb) +
lag(dependency.wb) +
lag(spending.wb) +
lag(spending.wb, 2),
data=df,
studentize=F)                #BP test for homoscedasticity, p=0 means heteroskedastic
# Two-way Fixed Effects with Democracy Interaction
model.dem.twoway<-plm(spending.wb ~
lag(trade.wb) +
lag(mdi) +
lag(polity2) +
lag(gdpcap.wb) +
lag(dependency.wb) +
lag(land.wb) +
lag(spending.wb) +
lag(spending.wb, 2) +
lag(trade.wb):lag(mdi) +
lag(trade.wb):lag(polity2),
data=mainvars,
index = c("scode","year"),
model="within",
effect="twoway")
summary(model.dem.twoway)
coeftest(model.dem.twoway, vcov=function(x) vcovBK(x, type="HC1", cluster="time"))  #looks good!
model.fd.twoway<-plm(diff(spending.wb) ~
lag(trade.wb) +
lag(diff(trade.wb)) +
lag(mdi) +
lag(diff(mdi)) +
lag(polity2) +
lag(diff(polity2)) +
lag(diff(gdpcap.wb)) +
lag(diff(dependency.wb)) +
lag(spending.wb) +
lag(diff(spending.wb)) +
lag(trade.wb):lag(mdi) +
lag(diff(trade.wb)):lag(diff(mdi)) +
lag(trade.wb):lag(polity2) +
lag(diff(trade.wb)):lag(diff(polity2)),
data=mainvars,
index = c("scode","year"),
model="within",
effect="twoway")
summary(model.fd.twoway)
coeftest(model.fd.twoway, vcov=function(x) vcovBK(x, type="HC1", cluster="time"))  #looks good
stargazer(model.twoway, model.dem.twoway, model.fd.twoway,
title="Determinants of Government Consumption Expenditure",
dep.var.labels.include=FALSE,
digits = 2,
style = "ajps",
font.size = "footnotesize",
out="article/main_state_models_standardized.tex")
### Guard against Nickell Bias by using only countries running the whole time period
main.comp<-mainvars[complete.cases(mainvars),]
obs.all <- tabulate(main.comp$scode) # incl lots of zeros for unused gvkey
num.obs <- tabulate(obs.all)
mode.num.obs <- which(num.obs == max(num.obs))
nt.bal <- num.obs[mode.num.obs] * mode.num.obs
pot.obs <- which(obs.all == mode.num.obs)
# create new df w/o units that don't run the whole sample period
pot.obs.index <- which(main.comp$scode %in% pot.obs)
mainvars.bal <- main.comp[pot.obs.index, ]
# Two-way Fixed Effects
model.twoway<-plm(spending.wb ~
lag(trade.wb) +
lag(mdi) +
lag(polity2) +
lag(gdpcap.wb) +
lag(dependency.wb) +
lag(land.wb) +
lag(spending.wb) +
lag(spending.wb,2) +
lag(trade.wb):lag(mdi),
index = c("scode","year"),
model="within",
effect="twoway",
data=mainvars.bal)
summary(model.twoway)
coeftest(model.twoway, vcov=function(x) vcovBK(x, type="HC1", cluster="time"))  #looks good!
fixef(model.twoway)
plmtest(model.twoway, type=c("bp"))   # Breusch-Pagan Multiplier Test; reject null of no significant differences between panels
plmtest(model.twoway, c("time"), type=("bp")) # B-P L-M test for time effects; accept that we need time effects
pbgtest(model.twoway)                         #Breusch-Godfrey/Woolridge test for serial autocorrelation, failed
data<-plm.data(modelvars, index = c("scode", "year"))
require(tseries)
adf.test(modelvars$spending.wb, k=2)                 #passes, p=0 means it is stationary
# Testing for homoskedasticity of errors
bptest(spending.wb ~
lag(trade.wb) +
lag(mdi) +
lag(trade.wb):lag(mdi) +
lag(polity2) +
lag(trade.wb):lag(polity2) +
lag(gdpcap.wb) +
lag(dependency.wb) +
lag(spending.wb) +
lag(spending.wb, 2),
data=df,
studentize=F)                #BP test for homoscedasticity, p=0 means heteroskedastic
# Two-way Fixed Effects with Democracy Interaction
model.dem.twoway<-plm(spending.wb ~
lag(trade.wb) +
lag(mdi) +
lag(polity2) +
lag(gdpcap.wb) +
lag(dependency.wb) +
lag(land.wb) +
lag(spending.wb) +
lag(spending.wb,2) +
lag(trade.wb):lag(mdi) +
lag(trade.wb):lag(polity2),
data=mainvars.bal,
index = c("scode","year"),
model="within",
effect="twoway")
summary(model.dem.twoway)
coeftest(model.dem.twoway, vcov=function(x) vcovBK(x, type="HC1", cluster="time"))  #looks good!
model.fd.twoway<-plm(diff(spending.wb) ~
lag(trade.wb) +
lag(diff(trade.wb)) +
lag(mdi) +
lag(diff(mdi)) +
lag(polity2) +
lag(diff(polity2)) +
lag(diff(gdpcap.wb)) +
lag(diff(dependency.wb)) +
lag(spending.wb) +
lag(diff(spending.wb)) +
lag(trade.wb):lag(mdi) +
lag(diff(trade.wb)):lag(diff(mdi)) +
lag(trade.wb):lag(polity2) +
lag(diff(trade.wb)):lag(diff(polity2)),
data=mainvars.bal,
index = c("scode","year"),
model="within",
effect="twoway")
summary(model.fd.twoway)
coeftest(model.fd.twoway, vcov=function(x) vcovBK(x, type="HC1", cluster="time"))  #looks good
stargazer(model.twoway, model.dem.twoway, model.fd.twoway,
title="Table 1 re-estimated with only countries of N=38 (1961-1999)",
dep.var.labels.include=FALSE,
digits = 2,
style = "ajps",
font.size = "footnotesize",
out="article/balanced_models_table.tex")
model.fd.twoway<-plm(diff(spending.wb) ~
lag(trade.wb) +
lag(diff(trade.wb)) +
lag(mdi) +
lag(diff(mdi)) +
lag(polity2) +
lag(diff(polity2)) +
lag(diff(gdpcap.wb)) +
lag(diff(dependency.wb)) +
lag(spending.wb) +
lag(diff(spending.wb)) +
lag(trade.wb):lag(mdi) +
lag(diff(trade.wb)):lag(diff(mdi)) +
lag(trade.wb):lag(polity2) +
lag(diff(trade.wb)):lag(diff(polity2)),
data=modelvars,
index = c("scode","year"),
model="within",
effect="twoway")
require(sjPlot)
sjp.int(model.fd.twoway)
?sjp.int
sjp.int(model.fd.twoway, int.plot.index=1)
require(Zelig)
require(ZeligPanelmodels)
require(ZeligPanelModels)
install_github("ZeligPanelmodels", 'napaxton')
require(devtools)
install_github("ZeligPanelmodels", 'napaxton')
z.out.fe <- zelig(spending.wb ~
lag(trade.wb) +
lag(mdi) +
lag(trade.wb):lag(mdi) +
lag(polity2) +
lag(gdpcap.wb) +
lag(dependency.wb) +
lag(spending.wb) +
lag(spending.wb, 2),
model="pan.plm",
pan.model="within",
pan.index=c("scode", "year"),
data=mainvars)
